{% extends 'base.html.twig' %}

{% block title %}Liste des campagnes{% endblock %}

{% block body %}
<div>
    <div>
    <h1 style="text-align: center; padding-top: 1em;"> Liste des Campagnes </h1>
    <div style="display: flex; align-items: center; justify-content: center; height: 10em;">
        {% if is_granted('ROLE_ADMIN') %}
            <a  href="{{path('ajout_campagne')}}"<button type="button" class="btn btn-primary">Créer une campagne</button></a>
        {% endif %}
    </div>
    <div>
        {% for campagne in campagnes %}
            <div style="padding-top:2em; display: flex; align-item: stretch; width: 40em; height:7em; margin: auto;">
                <div style="witdh: 100%; position:absolute; z-index: 1;">
                    <h3>{{campagne.nom}}</h3>
                </div>

                <div style="witdh: 100%; position:absolute; z-index: 2; padding-top: 3em; display: flex; align-item: stretch;">
                    <p>{{campagne.dateDebut|date('d-m-Y')}}</p>
                    <p style="padding-left: 2em;">{{campagne.dateFin|date('d-m-Y')}}</p>

                    <div style="padding-left: 3em; padding-bottom: 1em;">
                        {% if is_granted('ROLE_ADMIN') %}
                            <a href="{{path('ajout_parcelle_campagne', {'idCampagne':campagne.id})}}"<button type="button" class="btn btn-success">Ajouter des parcelles</button></a>
                        {% endif %}
                        <a href="{{path('detail_campagne', {'idCampagne':campagne.id})}}"<button style="padding-left: 2em;" type="button" class="btn btn-info">Details</button></a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

    <div>
    <h1 style="text-align: center; padding-top: 1em;"> Liste des Campagnes de recolte </h1>
    <div style="display: flex; align-items: center; justify-content: center; height: 10em;">
        {% if is_granted('ROLE_ADMIN') %}
            <a  href="{{path('ajout_campagne_recolte')}}"<button type="button" class="btn btn-primary">Créer une campagne de récolte</button></a>
        {% endif %}
    </div>
    <div>
        {% for campagne in campagnesRecolte %}
            <div style="padding-top:2em; display: flex; align-item: stretch; width: 40em; height:7em; margin: auto;">
                <div style="witdh: 100%; position:absolute; z-index: 1;">
                    <h3>{{campagne.nom}}</h3>
                </div>

                <div style="witdh: 100%; position:absolute; z-index: 2; padding-top: 3em; display: flex; align-item: stretch;">
                    <p>{{campagne.dateDebut|date('d-m-Y')}}</p>
                    <p style="padding-left: 2em;">{{campagne.dateFin|date('d-m-Y')}}</p>

                    <div style="padding-left: 3em; padding-bottom: 1em;">
                        {% if is_granted('ROLE_ADMIN') %}
                            <a href="{{path('ajout_parcelle_campagne_recolte', {'idCampagneRecolte':campagne.id})}}"<button type="button" class="btn btn-success">Ajouter des parcelles</button></a>
                        {% endif %}
                        <a href="{{path('detail_campagne_recolte', {'idCampagneRecolte':campagne.id})}}"<button style="padding-left: 2em;" type="button" class="btn btn-info">Details</button></a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
